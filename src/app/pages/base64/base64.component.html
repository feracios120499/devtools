<div class="flex-col w-full h-full">
  <div class="mb-3 p-3" appFavoritePage>
    <h4 class="text-lg text-700">Tool for encoding and decoding text using Base64 format</h4>
  </div>
  
  <!-- Блок переключателей операций -->
  <div class="mb-3 px-3 flex items-center">
    <div class="flex items-center gap-3">
      <p-radioButton [(ngModel)]="activeTab" inputId="decode" name="operation" [value]="1" (onClick)="switchMode()"></p-radioButton>
      <label for="decode">Decode from Base64 to Text</label>

      <p-radioButton [(ngModel)]="activeTab" inputId="encode" name="operation" [value]="2" (onClick)="switchMode()"></p-radioButton>
      <label for="encode">Encode from Text to Base64</label>
    </div>
  </div>
  
  <!-- Основной контейнер с редакторами -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4 editor-columns">
    <!-- Левая колонка - Input Text -->
    <div class="col">
      <div class="card p-3 surface-card shadow-sm editor-container">
        <!-- Заголовок -->
        <div class="editor-header">
          <h5 class="text-xl font-medium text-800 m-0">{{ activeTab == 2 ? 'Input Text' : 'Input Base64' }}</h5>
          <div class="flex gap-2">
            <button pButton type="button" label="Paste" icon="pi pi-clipboard" (click)="pasteFromClipboard()" 
                    class="p-button-text p-button-sm"></button>
            <button pButton type="button" label="Sample" icon="pi pi-code" (click)="loadSample()" 
                    class="p-button-text p-button-sm"></button>
            <button pButton type="button" label="Clear" icon="pi pi-trash" (click)="clearText()" severity="danger" 
                    class="p-button-text p-button-sm"></button>
          </div>
        </div>
        
        <!-- Содержимое редактора -->
        <div class="editor-content">
          <!-- Textarea для серверного рендеринга -->
          <textarea *ngIf="!isBrowser" 
            [(ngModel)]="inputCode" 
            (ngModelChange)="processText()"
            class="w-full p-2 border-1 surface-100 editor-input">
          </textarea>
          
          <!-- Monaco editor для браузера -->
          <div *ngIf="isBrowser" class="monaco-container">
            <ngx-monaco-editor
              #inputMonacoEditor
              [options]="inputEditorOptions" 
              [(ngModel)]="inputCode" 
              (ngModelChange)="processText()"
              class="w-full h-full">
            </ngx-monaco-editor>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Правая колонка - Output Text -->
    <div class="col">
      <div class="card p-3 surface-card shadow-sm editor-container">
        <!-- Заголовок -->
        <div class="editor-header">
          <h5 class="text-xl font-medium text-800 m-0">{{ activeTab == 1 ? 'Decoded Text' : 'Base64 Output' }}</h5>
          <div class="flex gap-2">
            <button pButton type="button" label="Copy" icon="pi pi-copy" (click)="copyToClipboard()" 
                    [disabled]="!outputCode" class="p-button-text p-button-sm"></button>
            <button pButton type="button" label="Download" icon="pi pi-download" (click)="downloadText()" 
                    [disabled]="!outputCode" class="p-button-text p-button-sm"></button>
          </div>
        </div>
        
        <!-- Содержимое редактора -->
        <div class="editor-content">
          <!-- Textarea для серверного рендеринга -->
          <textarea *ngIf="!isBrowser" 
            [(ngModel)]="outputCode" 
            readonly
            class="w-full p-2 border-1 surface-100 editor-output">
          </textarea>
          
          <!-- Monaco editor для браузера -->
          <div *ngIf="isBrowser" class="monaco-container">
            <ngx-monaco-editor
              #outputMonacoEditor
              [options]="outputEditorOptions" 
              [(ngModel)]="outputCode" 
              class="w-full h-full">
            </ngx-monaco-editor>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Информационный раздел -->
  <div class="mt-4 p-3 border-round-lg surface-card shadow-sm border-1 surface-border info-section">
    <h3 class="text-xl font-semibold mb-2">About Base64 Encoding</h3>
    <p class="mb-2 text-sm">
      Base64 is a binary-to-text encoding scheme that represents binary data in an ASCII string format by translating it into a radix-64 representation. It is commonly used to encode binary data for transmission over media that is designed to deal with textual data.
    </p>
    <p class="mb-2 text-sm">
      <strong>When to use Base64 encoding:</strong>
      Base64 is commonly used when transferring binary data in environments that only support text, such as sending email attachments, storing complex data in JSON, or including binary data in XML files.
    </p>
  </div>
  
  <!-- Toast -->
  <p-toast position="bottom-right"></p-toast>
</div> 