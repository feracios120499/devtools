<div class="flex flex-col w-full h-full">
  <!-- Структурированные данные Schema.org добавляются в head через Renderer2 -->

  <div class="mb-2 p-3">
    <h4 class="text-lg text-700">Tool for formatting, validating and improving JSON code readability</h4>
  </div>
  
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4 flex-1 overflow-hidden">
    <!-- Левая колонка - Input JSON -->
    <div class="col flex flex-col">
      <div class="card p-3 surface-card shadow-sm flex-1 flex flex-col overflow-hidden">
        <!-- Заголовок с фиксированной высотой -->
        <div class="flex justify-between items-center h-10">
          <h5 class="text-xl font-medium text-800 m-0">Input JSON</h5>
          <div class="flex gap-2">
            <button pButton type="button" label="Paste" icon="pi pi-clipboard" (click)="pasteFromClipboard()" class="p-button-text p-button-sm"></button>
            <button pButton type="button" label="Sample" icon="pi pi-code" (click)="loadSampleJson()" class="p-button-text p-button-sm"></button>
            <button pButton type="button" label="Clear" icon="pi pi-trash" (click)="clearJson()" severity="danger" class="p-button-text p-button-sm"></button>
          </div>
        </div>
        
        <!-- Отступ для выравнивания с правой колонкой -->
        <div class="mb-2"></div>
        
        <!-- Fallback textarea for server-side rendering -->
        <textarea *ngIf="!isBrowser" 
          [(ngModel)]="inputCode" 
          (ngModelChange)="formatJson()"
          class="w-full p-2 border-1 surface-100 font-mono flex-1">
        </textarea>
        
        <!-- Monaco editor for browser environment -->
        <ngx-monaco-editor *ngIf="isBrowser"
          #inputMonacoEditor
          [options]="inputEditorOptions" 
          [(ngModel)]="inputCode" 
          (ngModelChange)="formatJson()"
          class="w-full border-1 surface-border rounded-md flex-1">
        </ngx-monaco-editor>
      </div>
    </div>
    
    <!-- Правая колонка - Formatted JSON -->
    <div class="col flex flex-col">
      <div class="card p-3 surface-card shadow-sm flex-1 flex flex-col overflow-hidden">
        <!-- Заголовок с фиксированной высотой -->
        <div class="flex justify-between items-center h-10">
          <h5 class="text-xl font-medium text-800 m-0">Formatted JSON</h5>
          <div class="flex gap-2 items-center">
            <p-dropdown [options]="spacingOptions" [(ngModel)]="selectedSpacing" 
                      optionLabel="label" (onChange)="onSpacingChange()" 
                      styleClass="p-dropdown-sm custom-dropdown" [style]="{'min-width': '120px'}" 
                      [panelStyleClass]="'same-width-panel'"
                      appendTo="body">
            </p-dropdown>
            <button pButton type="button" label="Copy" icon="pi pi-copy" 
                    (click)="copyToClipboard()" 
                    class="p-button-text p-button-sm"></button>
            <button pButton type="button" label="Download" icon="pi pi-download" 
                    (click)="downloadJson()" 
                    class="p-button-text p-button-sm"></button>
          </div>
        </div>
        
        <!-- Отступ для дропдауна -->
        <div class="mb-2"></div>
        
        <!-- Fallback textarea for server-side rendering -->
        <textarea *ngIf="!isBrowser" 
          [(ngModel)]="outputCode" 
          readonly
          class="w-full p-2 border-1 surface-100 font-mono flex-1">
        </textarea>
        
        <!-- Monaco editor for browser environment -->
        <ngx-monaco-editor *ngIf="isBrowser"
          #outputMonacoEditor
          [options]="outputEditorOptions" 
          [(ngModel)]="outputCode" 
          class="w-full border-1 surface-border rounded-md flex-1">
        </ngx-monaco-editor>
      </div>
    </div>
  </div>
  
  <!-- Toast component -->
  <p-toast position="bottom-right"></p-toast>
</div> 